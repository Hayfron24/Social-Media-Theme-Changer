// Get the current dark mode state from localStorage
const darkMode = localStorage.getItem('theme') === 'dark-mode';

const darkModeToggle = document.getElementById('darkModeToggle');
const image = document.getElementById('image');
const lightModeImg = 'design/switch.svg';
const darkModeImg = 'design/switch-dark.svg';
const darkModeElements = document.querySelectorAll('body, header, .followers-count, .single-overview');

// Function to toggle dark mode
function toggleDarkMode() {
  // Toggle between initial and alternate image
  if (image.src.endsWith(lightModeImg)) {
    image.src = darkModeImg;
  } else {
    image.src = lightModeImg;
  }

  // Toggle dark mode class on specified elements
  darkModeElements.forEach(element => {
    element.classList.toggle('dark-mode');
  });

  // Check if dark mode is enabled and save to localStorage
  const isDarkModeEnabled = image.src.endsWith(darkModeImg);
  localStorage.setItem('theme', isDarkModeEnabled ? 'dark-mode' : 'light-mode');
}

// Set initial dark mode state
if (darkMode) {
  toggleDarkMode();
}

// Add click event listener to toggle dark mode
darkModeToggle.addEventListener('click', toggleDarkMode);

